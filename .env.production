# ============================================
# WoW Combat Log Parser - Production Environment
# ============================================

# === User/System Configuration ===
USER_ID=1000
GROUP_ID=1000

# === API Configuration ===
API_KEY=CHANGE_THIS_TO_SECURE_KEY  # Generate with: openssl rand -hex 32
API_PORT=8000

# === Database Configuration ===
DB_PATH=/app/data/combat_logs.db
DB_BACKUP_ENABLED=true
DB_BACKUP_INTERVAL=86400  # Daily backups (in seconds)
DB_BACKUP_RETENTION_DAYS=7

# === Server Configuration ===
HOST=0.0.0.0
PORT=8000
LOG_LEVEL=info
WORKERS=4  # Number of worker processes
MAX_UPLOAD_SIZE=500M
REQUEST_TIMEOUT=300

# === Directory Configuration ===
DATA_DIR=./data
LOGS_DIR=./logs
CONFIG_DIR=./config

# === Web Interface ===
NGINX_PORT=80
NGINX_SSL_PORT=443

# === SSL/TLS Configuration ===
ENABLE_SSL=false
SSL_CERT=./ssl/cert.pem
SSL_KEY=./ssl/key.pem

# === Monitoring (Grafana) ===
ENABLE_MONITORING=true
GRAFANA_PORT=3000
GRAFANA_PASSWORD=CHANGE_THIS_PASSWORD

# === Prometheus Metrics ===
PROMETHEUS_PORT=9090
METRICS_ENABLED=true

# === Redis Cache (Optional) ===
ENABLE_CACHE=false
REDIS_PORT=6379
REDIS_MAX_MEMORY=256mb

# === Performance Tuning ===
# Maximum number of concurrent log processing tasks
MAX_CONCURRENT_TASKS=10

# Maximum file size for upload (in MB)
MAX_FILE_SIZE=500

# Database connection pool size
DB_POOL_SIZE=20

# Request rate limiting (requests per minute)
RATE_LIMIT_PER_MINUTE=100

# === Security Settings ===
# CORS allowed origins (comma-separated)
CORS_ORIGINS=*

# Session timeout (in seconds)
SESSION_TIMEOUT=3600

# Enable API key validation
REQUIRE_API_KEY=true

# === Feature Flags ===
# Enable experimental features
ENABLE_EXPERIMENTAL=false

# Enable debug endpoints (NEVER enable in production)
ENABLE_DEBUG_ENDPOINTS=false

# Enable API documentation
ENABLE_API_DOCS=true

# === External Integrations ===
# Discord webhook for notifications (optional)
DISCORD_WEBHOOK_URL=

# Slack webhook for notifications (optional)
SLACK_WEBHOOK_URL=

# === Deployment Configuration ===
# Docker compose profile to use
COMPOSE_PROFILES=monitoring,cache

# Container restart policy
RESTART_POLICY=always

# === Logging Configuration ===
# Log format (json or text)
LOG_FORMAT=json

# Log rotation
LOG_MAX_SIZE=100M
LOG_MAX_BACKUPS=10
LOG_MAX_AGE=30  # days

# === Resource Limits ===
# CPU limits (in cores, e.g., "2.0")
API_CPU_LIMIT=2.0
API_CPU_RESERVATION=0.5

# Memory limits (e.g., "2G")
API_MEMORY_LIMIT=2G
API_MEMORY_RESERVATION=512M